

  private isSORWorkAreaJob(job: WorkAreaJob): job is SORWorkAreaJob {
    return 'employees' in job;
  }

  public buildWATSearchString(wat: WorkAreaType): string {
    let _ss: string = wat.workAreaTypeName.toLowerCase();
    wat.workAreas.forEach(area => {
      _ss += ',' + area.workAreaName.toLowerCase();
      area.workAreaJobs.forEach(job => {
        _ss += ',' + job.workAreaJobName.toLowerCase();
        if (this.isSORWorkAreaJob(job)) {
          job.employees.forEach(emp => {
            const fullNameWithSpace = `${emp.firstName.toLowerCase()} ${emp.lastName.toLowerCase()}`;
            const combinedString = `${fullNameWithSpace}${emp.gemsId.toLowerCase()}`;
            _ss += `,${combinedString}`;
          });
        }
      });
    });
    return _ss;
  }

  public buildWASearchString(wa: WorkArea): string {
    let _ss: string = wa.workAreaName.toLowerCase();
    wa.workAreaJobs.forEach(job => {
      _ss += ',' + job.workAreaJobName.toLowerCase();
      if (this.isSORWorkAreaJob(job)) {
        job.employees.forEach(emp => {
          const fullNameWithSpace = `${emp.firstName.toLowerCase()} ${emp.lastName.toLowerCase()}`;
          const combinedString = `${fullNameWithSpace}${emp.gemsId.toLowerCase()}`;
          _ss += `,${combinedString}`;
        });
      }
    });
    return _ss;
  }

  public buildWAJSearchString(waj: WorkAreaJob): string {
    let _ss: string = waj.workAreaJobName.toLowerCase();
    if (this.isSORWorkAreaJob(waj)) {
      waj.employees.forEach(emp => {
        const fullNameWithSpace = `${emp.firstName.toLowerCase()} ${emp.lastName.toLowerCase()}`;
        const combinedString = `${fullNameWithSpace}${emp.gemsId.toLowerCase()}`;
        _ss += `,${combinedString}`;
      });
    }
    return _ss;
  }

  public buildEmployeeSearchString(emp: EmployeeWorkRecord): string {
    let _ss: string = `${emp.firstName.toLowerCase()} ${emp.lastName.toLowerCase()}`;
    _ss += `,${emp.gemsId.toLowerCase()}`;
    return _ss;
  }
}
