<div class="tableHeader">
  <!-- Parent Columns Row -->
  <div class="tableRow">
    <div class="header-cell-1" *ngIf="showVolume$ | async" rowspan="2">Volume</div>
    <div class="header-cell-1" *ngIf="showPPH$ | async" rowspan="2">PPH</div>
    <div class="header-cell-1" *ngIf="showSpan$ | async" rowspan="2">Span</div>
    <div class="header-cell-1" *ngIf="showFlowHr$ | async" rowspan="2">Flow/Hr</div>

    <!-- HOURS Column with Dynamic Colspan -->
    <div class="header-cell-1" *ngIf="showHours$ | async" [attr.colspan]="getHoursColspan()">HOURS</div>

    <!-- STAFFING Column with Dynamic Colspan -->
    <div class="header-cell-1" *ngIf="showStaffing$ | async" [attr.colspan]="getStaffingColspan()">STAFFING</div>

    <!-- SMALLS Column with Dynamic Colspan -->
    <div class="header-cell-1" *ngIf="showSmalls$ | async" [attr.colspan]="getSmallsColspan()">SMALLS</div>

    <!-- IRREGULARS Column with Dynamic Colspan -->
    <div class="header-cell-1" *ngIf="showIrregulars$ | async" [attr.colspan]="getIrregularsColspan()">IRREGULARS</div>
  </div>

  <!-- Subcolumns Row -->
  <div class="tableRow">
    <!-- HOURS Subcolumns -->
    <div class="subheader-cell" *ngIf="showTotalHours$ | async">Total</div>
    <div class="subheader-cell" *ngIf="showDirectHours$ | async">Direct</div>
    <div class="subheader-cell" *ngIf="showIndirectHours$ | async">Indirect</div>

    <!-- STAFFING Subcolumns -->
    <div class="subheader-cell" *ngIf="showAssignedStaffing$ | async">Assigned</div>
    <div class="subheader-cell" *ngIf="showWorkedStaffing$ | async">Worked</div>
    <div class="subheader-cell" *ngIf="showAbsentStaffing$ | async">% Absent</div>
    <div class="subheader-cell" *ngIf="showLessThanThree$ | async">&lt; 3 (PT)</div>
    <div class="subheader-cell" *ngIf="showGreaterThanFive$ | async">&gt; 5 (PT)</div>
    <div class="subheader-cell" *ngIf="showGreaterThanEight$ | async">&gt; 8 (FT)</div>

    <!-- SMALLS Subcolumns -->
    <div class="subheader-cell" *ngIf="showSmallsPercent$ | async">% Smalls</div>
    <div class="subheader-cell" *ngIf="showSmallsVolume$ | async">Volume</div>
    <div class="subheader-cell" *ngIf="showSmallsPPH$ | async">PPH</div>

    <!-- IRREGULARS Subcolumns -->
    <div class="subheader-cell" *ngIf="showIrregPercent$ | async">% Irregs</div>
    <div class="subheader-cell" *ngIf="showIrregVolume$ | async">Volume</div>
    <div class="subheader-cell" *ngIf="showIrregPPH$ | async">PPH</div>
  </div>
</div>
getHoursColspan(): number {
  let colspan = 0;
  if (this.showTotalHours$ | async) colspan++;
  if (this.showDirectHours$ | async) colspan++;
  if (this.showIndirectHours$ | async) colspan++;
  return colspan;
}

getStaffingColspan(): number {
  let colspan = 0;
  if (this.showAssignedStaffing$ | async) colspan++;
  if (this.showWorkedStaffing$ | async) colspan++;
  if (this.showAbsentStaffing$ | async) colspan++;
  if (this.showLessThanThree$ | async) colspan++;
  if (this.showGreaterThanFive$ | async) colspan++;
  if (this.showGreaterThanEight$ | async) colspan++;
  return colspan;
}

getSmallsColspan(): number {
  let colspan = 0;
  if (this.showSmallsPercent$ | async) colspan++;
  if (this.showSmallsVolume$ | async) colspan++;
  if (this.showSmallsPPH$ | async) colspan++;
  return colspan;
}

getIrregularsColspan(): number {
  let colspan = 0;
  if (this.showIrregPercent$ | async) colspan++;
  if (this.showIrregVolume$ | async) colspan++;
  if (this.showIrregPPH$ | async) colspan++;
  return colspan;
}

