import { Pipe, PipeTransform } from '@angular/core';

@Pipe({
  name: 'ActiveColumnStatus',
})
export class ActiveColumnStatusPipe implements PipeTransform {
  transform(column: { isVisible: boolean; subcols?: Subcolumn[] | null }): boolean {
    // If the column itself is not visible, return false
    if (!column.isVisible) {
      return false;
    }

    // If no subcolumns exist, consider it active
    if (!column.subcols || column.subcols.length === 0) {
      return true;
    }

    // Check if any subcolumn is visible
    return column.subcols.some((subcol) => subcol.isVisible);
  }
}